<h1 translate="admin.race.title"></h1>
<nav class="admin">
    <a [routerLink]="['/admin']">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        <span translate="app.back"></span>
    </a>
    <a  [routerLink]="['/admin/race/new']">
        <i class="fa fa-plus" aria-hidden="true"></i>
        <span translate="admin.race.new.title"></span>
    </a>
</nav>

<div class="row">
    <div class="col-md-6">
        <div class="row" *ngFor="let race of races.data">
            <div class="col-md-4">
                <button class="btn btn-link" [innerHtml]="race.name" (click)=loadDetails(race)></button>
            </div>
            <div class="col-md-4" *ngIf="race.dateStart" [innerHtml]="race.dateStart | date:'dd/MM/yyyy HH:mm'"></div>
            <div class="col-md-4" *ngIf="race.dateEnd" [innerHtml]="race.dateEnd | date:'dd/MM/yyyy HH:mm'"></div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <button class="btn btn-primary" [disabled]="races.page === 0" translate="paginator.previous" (click)=previousPage()></button>
                <button class="btn btn-primary" [disabled]="races.page >= races.maxPage-1" translate="paginator.next" (click)=nextPage()></button>
            </div>
        </div>
    </div>
    <div class="col-md-6" *ngIf="currentRace.id">
            <h2 *ngIf="currentRace.dateEnd && currentRace.dateEnd<now" translate="admin.race.closed"></h2>
            <div class="row">
                <div class="col-md-4" translate="admin.race.id"></div>
                <div class="col-md-6" [innerHtml]="currentRace.id"></div>
            </div>
            <div class="row">
                <div class="col-md-4" translate="admin.race.name"></div>
                <div class="col-md-6" [innerHtml]="currentRace.name"></div>
            </div>
            <div class="row">
                <div class="col-md-4" translate="admin.race.description"></div>
                <div class="col-md-6" [innerHtml]="currentRace.description"></div>
            </div>
            <div class="row">
                <div class="col-md-4" translate="admin.race.dateStart"></div>
                <div class="col-md-6" *ngIf="currentRace.dateStart" [innerHtml]="currentRace.dateStart | date:'dd/MM/yyyy HH:mm'"></div>
            </div>
            <div class="row">
                <div class="col-md-4" translate="admin.race.dateEnd"></div>
                <div class="col-md-6" *ngIf="currentRace.dateEnd" [innerHtml]="currentRace.dateEnd | date:'dd/MM/yyyy HH:mm'"></div>
            </div>
            <div class="row">
                <div class="col-md-4" translate="admin.race.rayKm"></div>
                <div class="col-md-6" [innerHtml]="currentRace.endRayKm"></div>
            </div>
            <div class="row">
                <div class="col-md-4" translate="admin.race.boat"></div>
                <div class="col-md-6" [innerHtml]="currentRace.allowedBoat.name"></div>
            </div>
    </div>
</div>

